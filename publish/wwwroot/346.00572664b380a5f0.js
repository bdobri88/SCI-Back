"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[346],{5433:(E,v,l)=>{l.d(v,{G:()=>m});var i=l(4650),p=l(5412),e=l(4859);let m=(()=>{class g{constructor(u){this.dialogRef=u}onConfirm(){this.dialogRef.close("deleted")}onCancel(){this.dialogRef.close()}}return g.\u0275fac=function(u){return new(u||g)(i.Y36(p.so))},g.\u0275cmp=i.Xpm({type:g,selectors:[["ng-component"]],decls:10,vars:0,consts:[["mat-dialog-content",""],["mat-dialog-actions",""],["mat-raised-button","",3,"click"],["mat-raised-button","","color","warn",3,"click"]],template:function(u,a){1&u&&(i.TgZ(0,"h1"),i._uU(1,"Eliminar"),i.qZA(),i.TgZ(2,"div",0)(3,"h3"),i._uU(4,"\xbfEst\xe1s seguro de eliminar?"),i.qZA()(),i.TgZ(5,"div",1)(6,"button",2),i.NdJ("click",function(){return a.onCancel()}),i._uU(7,"Cancelar"),i.qZA(),i.TgZ(8,"button",3),i.NdJ("click",function(){return a.onConfirm()}),i._uU(9,"Eliminar"),i.qZA()())},dependencies:[p.xY,p.H8,e.lW],encapsulation:2}),g})()},3346:(E,v,l)=>{l.d(v,{K:()=>S});var i=l(4006),p=l(5412),e=l(4650),m=l(2721),g=l(4101),d=l(7009),u=l(6895),a=l(4859),_=l(9549),D=l(4144),T=l(4385),b=l(3238);function A(t,r){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," El legajo es obligatorio. "),e.qZA())}function U(t,r){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," El legajo debe ser un n\xfamero v\xe1lido. "),e.qZA())}function x(t,r){if(1&t&&(e.TgZ(0,"mat-option",15),e._uU(1),e.qZA()),2&t){const o=r.$implicit;e.Q6J("value",o.id),e.xp6(1),e.hij(" ",o.nombre," ")}}function N(t,r){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Este campo es requerido "),e.qZA())}let C=(()=>{class t{constructor(o,n,c,s,h,L){this.fb=o,this.dialogRef=n,this.data=c,this.apiEfectivo=s,this.apiDependencia=h,this.snackBar=L,this.dependencias=[],this.formDialogEfectivo=this.fb.group({legajo:[this.data?.legajo||"",[i.kI.required,i.kI.pattern("^[0-9]*$")]],nombre:[this.data?.nombre||"",i.kI.required],apellido:[this.data?.apellido||"",i.kI.required],selectedDependencia:[this.data?.idDependencia||"",i.kI.required]})}ngOnInit(){this.data&&this.formDialogEfectivo.patchValue(this.data),this.loadDependencias()}loadDependencias(){this.apiDependencia.getDependencia().subscribe(o=>{this.dependencias=o.data},o=>{console.error("Error al cargar dependencias:",o),this.snackBar.open("Error al cargar dependencias","",{duration:3e3})})}onSubmit(){if(this.formDialogEfectivo.valid){const o=this.formDialogEfectivo.value,n={id:this.data?.id||0,legajo:o.legajo,nombre:o.nombre,apellido:o.apellido,idDependencia:o.selectedDependencia,nombreDependencia:""};0!==n.id?this.apiEfectivo.editEfectivo(n).subscribe(()=>this.dialogRef.close(!0)):this.apiEfectivo.addEfectivo(n).subscribe(()=>this.dialogRef.close(!0))}this.close()}close(){this.dialogRef.close()}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(i.qu),e.Y36(p.so),e.Y36(p.WI),e.Y36(m.P),e.Y36(g.r),e.Y36(d.ux))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-dialogefectivo"]],decls:31,vars:7,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["autocomplete","off",3,"formGroup","ngSubmit"],["appearance","fill"],["matInput","","formControlName","legajo","placeholder","Legajo"],[4,"ngIf"],["matInput","","formControlName","nombre","placeholder","Nombre"],["matInput","","formControlName","apellido","placeholder","Apellido"],["appearance","fill",1,"col-sm-6"],["formControlName","selectedDependencia"],["value",""],[3,"value",4,"ngFor","ngForOf"],["mat-dialog-actions",""],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],[3,"value"]],template:function(o,n){if(1&o&&(e.TgZ(0,"h1",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1)(3,"form",2),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(4,"mat-form-field",3)(5,"mat-label"),e._uU(6,"Legajo"),e.qZA(),e._UZ(7,"input",4),e.YNc(8,A,2,0,"mat-error",5),e.YNc(9,U,2,0,"mat-error",5),e.qZA(),e.TgZ(10,"mat-form-field",3)(11,"mat-label"),e._uU(12,"Nombre"),e.qZA(),e._UZ(13,"input",6),e.qZA(),e.TgZ(14,"mat-form-field",3)(15,"mat-label"),e._uU(16,"Apellido"),e.qZA(),e._UZ(17,"input",7),e.qZA(),e.TgZ(18,"mat-form-field",8)(19,"mat-label"),e._uU(20,"Seleccione Dependencia:"),e.qZA(),e.TgZ(21,"mat-select",9)(22,"mat-option",10),e._uU(23," Sin Selecci\xf3n "),e.qZA(),e.YNc(24,x,2,2,"mat-option",11),e.qZA(),e.YNc(25,N,2,0,"mat-error",5),e.qZA(),e.TgZ(26,"div",12)(27,"button",13),e.NdJ("click",function(){return n.close()}),e._uU(28,"Cancelar"),e.qZA(),e.TgZ(29,"button",14),e._uU(30,"Guardar"),e.qZA()()()()),2&o){let c,s,h;e.xp6(1),e.hij(" ",n.formDialogEfectivo.value.id?"Editar usuario":"Nuevo usuario",""),e.xp6(2),e.Q6J("formGroup",n.formDialogEfectivo),e.xp6(5),e.Q6J("ngIf",(null==(c=n.formDialogEfectivo.get("legajo"))?null:c.hasError("required"))&&(null==(c=n.formDialogEfectivo.get("legajo"))?null:c.touched)),e.xp6(1),e.Q6J("ngIf",(null==(s=n.formDialogEfectivo.get("legajo"))?null:s.hasError("pattern"))&&(null==(s=n.formDialogEfectivo.get("legajo"))?null:s.touched)),e.xp6(15),e.Q6J("ngForOf",n.dependencias),e.xp6(1),e.Q6J("ngIf",(null==(h=n.formDialogEfectivo.get("idDependencia"))?null:h.invalid)&&(null==(h=n.formDialogEfectivo.get("idDependencia"))?null:h.touched)),e.xp6(4),e.Q6J("disabled",n.formDialogEfectivo.invalid)}},dependencies:[u.sg,u.O5,p.uh,p.xY,p.H8,a.lW,_.TO,_.KE,_.hX,D.Nt,T.gD,b.ey,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u],encapsulation:2}),t})();var Y=l(5433),f=l(7155),Z=l(7974);function y(t,r){1&t&&(e.TgZ(0,"th",18),e._uU(1,"N\xb0"),e.qZA())}function I(t,r){if(1&t&&(e.TgZ(0,"td",19),e._uU(1),e.qZA()),2&t){const o=r.index;e.xp6(1),e.Oqu(o+1)}}function O(t,r){1&t&&(e.TgZ(0,"td",18),e._uU(1," Legajo "),e.qZA())}function j(t,r){if(1&t&&(e.TgZ(0,"td",19),e._uU(1),e.qZA()),2&t){const o=r.$implicit;e.xp6(1),e.hij(" ",o.legajo," ")}}function q(t,r){1&t&&(e.TgZ(0,"td",18),e._uU(1," Nombre "),e.qZA())}function M(t,r){if(1&t&&(e.TgZ(0,"td",19),e._uU(1),e.qZA()),2&t){const o=r.$implicit;e.xp6(1),e.hij(" ",o.nombre," ")}}function R(t,r){1&t&&(e.TgZ(0,"td",18),e._uU(1," Apellido "),e.qZA())}function k(t,r){if(1&t&&(e.TgZ(0,"td",19),e._uU(1),e.qZA()),2&t){const o=r.$implicit;e.xp6(1),e.hij(" ",o.apellido," ")}}function $(t,r){1&t&&(e.TgZ(0,"td",18),e._uU(1," Nombre Dependencia "),e.qZA())}function B(t,r){if(1&t&&(e.TgZ(0,"td",19),e._uU(1),e.qZA()),2&t){const o=r.$implicit;e.xp6(1),e.hij(" ",o.nombreDependencia," ")}}function F(t,r){1&t&&(e.TgZ(0,"td",20),e._uU(1," Acciones "),e.qZA())}function J(t,r){if(1&t){const o=e.EpF();e.TgZ(0,"td",21)(1,"button",22),e.NdJ("click",function(){const s=e.CHM(o).$implicit,h=e.oxw();return e.KtG(h.openEdit(s))}),e._uU(2,"Editar"),e.qZA(),e._uU(3,"| "),e.TgZ(4,"button",23),e.NdJ("click",function(){const s=e.CHM(o).$implicit,h=e.oxw();return e.KtG(h.delete(s))}),e._uU(5,"Eliminar"),e.qZA()()}}function P(t,r){1&t&&e._UZ(0,"tr",24)}function w(t,r){1&t&&e._UZ(0,"tr",25)}const Q=function(){return[10,20,30]};let S=(()=>{class t{constructor(o,n,c,s){this.apiEfectivo=o,this.dialog=n,this.snackBar=c,this.fb=s,this.lst=new f.by([]),this.columnas=["index","legajo","nombre","apellido","nombreDependencia","actions"],this.width="300px",this.dependenciasMap=new Map,this.form=this.fb.group({id:[0],legajo:["",i.kI.required],nombre:["",i.kI.required],apellido:["",i.kI.required],idDependencia:[null,i.kI.required],nombreDependencia:[""]})}ngOnInit(){this.getEfectivos()}getEfectivos(){this.apiEfectivo.getEfectivos().subscribe(o=>{this.lst=new f.by(o.data),this.lst.paginator=this.paginator})}applyFilter(o){this.lst.filter=o.target.value.trim().toLowerCase()}openAdd(){this.dialog.open(C,{width:this.width,data:{}}).afterClosed().subscribe(n=>{"saved"===n&&this.getEfectivos()})}getNombreDependencia(o){return this.dependenciasMap.get(o)||"Desconocido"}openEdit(o){this.dialog.open(C,{width:this.width,data:{...o}}).afterClosed().subscribe(c=>{"saved"===c&&this.getEfectivos()})}delete(o){this.dialog.open(Y.G,{width:"250px",data:{id:o.id}}).afterClosed().subscribe(c=>{"deleted"===c&&this.apiEfectivo.delete(o.id).subscribe(()=>{this.snackBar.open("Efectivo eliminado con \xe9xito","",{duration:2e3}),this.getEfectivos()},s=>console.error("Error al eliminar efectivo:",s))})}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(m.P),e.Y36(p.uw),e.Y36(d.ux),e.Y36(i.qu))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-efectivo"]],viewQuery:function(o,n){if(1&o&&e.Gf(Z.NW,5),2&o){let c;e.iGM(c=e.CRH())&&(n.paginator=c.first)}},decls:30,vars:5,consts:[[2,"display","flex","align-items","center","justify-content","space-between","margin-bottom","16px"],["appearance","fill",2,"max-width","200px","flex-grow","1","margin-right","6px","margin-top","12px"],["matInput","","placeholder","Ingrese b\xfasqueda",3,"input"],["mat-raised-button","","color","primary",3,"click"],["mat-table","",1,"mat-elevation-z4",3,"dataSource"],["matColumnDef","index"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","legajo"],["matColumnDef","nombre"],["matColumnDef","apellido"],["matColumnDef","nombreDependencia"],["matColumnDef","actions"],["mat-header-cell","","style","text-align: right; padding-right: 7.5rem;",4,"matHeaderCellDef"],["mat-cell","","style","text-align: right;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Seleccionar p\xe1gina de elementos",3,"pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","",2,"text-align","right","padding-right","7.5rem"],["mat-cell","",2,"text-align","right"],["mat-raised-button","","color","basic",3,"click"],["mat-raised-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"mat-form-field",1)(2,"mat-label"),e._uU(3,"Buscar Efectivo"),e.qZA(),e.TgZ(4,"input",2),e.NdJ("input",function(s){return n.applyFilter(s)}),e.qZA()(),e.TgZ(5,"button",3),e.NdJ("click",function(){return n.openAdd()}),e._uU(6,"Nuevo Efectivo"),e.qZA()(),e.TgZ(7,"div")(8,"table",4),e.ynx(9,5),e.YNc(10,y,2,0,"th",6),e.YNc(11,I,2,1,"td",7),e.BQk(),e.ynx(12,8),e.YNc(13,O,2,0,"td",6),e.YNc(14,j,2,1,"td",7),e.BQk(),e.ynx(15,9),e.YNc(16,q,2,0,"td",6),e.YNc(17,M,2,1,"td",7),e.BQk(),e.ynx(18,10),e.YNc(19,R,2,0,"td",6),e.YNc(20,k,2,1,"td",7),e.BQk(),e.ynx(21,11),e.YNc(22,$,2,0,"td",6),e.YNc(23,B,2,1,"td",7),e.BQk(),e.ynx(24,12),e.YNc(25,F,2,0,"td",13),e.YNc(26,J,6,0,"td",14),e.BQk(),e.YNc(27,P,1,0,"tr",15),e.YNc(28,w,1,0,"tr",16),e.qZA(),e._UZ(29,"mat-paginator",17),e.qZA()),2&o&&(e.xp6(8),e.Q6J("dataSource",n.lst),e.xp6(19),e.Q6J("matHeaderRowDef",n.columnas),e.xp6(1),e.Q6J("matRowDefColumns",n.columnas),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(4,Q)))},dependencies:[f.BZ,f.fO,f.as,f.w1,f.Dz,f.nj,f.ge,f.ev,f.XQ,f.Gk,a.lW,_.KE,_.hX,D.Nt,Z.NW],styles:["table[_ngcontent-%COMP%]{width:100%}"]}),t})()},4101:(E,v,l)=>{l.d(v,{r:()=>g});var i=l(529),p=l(2340),e=l(4650);const m={headers:new i.WM({"Contend-Type":"application/json"})};let g=(()=>{class d{constructor(a){this._http=a,this.url=`${p.N.apiUrl}/Dependencia`}getDependencia(){return this._http.get(`${this.url}/Find`,m)}addDependencia(a){return this._http.post(`${this.url}/Add`,a,m)}edit(a){return this._http.put(`${this.url}/Edit`,a,m)}findDependencia(a){return this._http.get(`${this.url}/${a}`)}delete(a){return this._http.delete(`${this.url}/Delete/${a}`)}}return d.\u0275fac=function(a){return new(a||d)(e.LFG(i.eN))},d.\u0275prov=e.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()},2721:(E,v,l)=>{l.d(v,{P:()=>g});var i=l(529),p=l(2340),e=l(4650);const m={headers:new i.WM({"Content-Type":"application/json"})};let g=(()=>{class d{constructor(a){this._http=a,this.url=`${p.N.apiUrl}/Efectivo`}getEfectivos(){return this._http.get(`${this.url}/FindEfectivos`,m)}findEfectivo(a){return this._http.get(`${this.url}/FindEfectivo?legajo=${a}`)}addEfectivo(a){return this._http.post(`${this.url}/CreateEfectivo`,a,m)}editEfectivo(a){return this._http.put(`${this.url}/Update`,a,m)}delete(a){return this._http.delete(`${this.url}/Delete/${a}`,m)}}return d.\u0275fac=function(a){return new(a||d)(e.LFG(i.eN))},d.\u0275prov=e.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()}}]);