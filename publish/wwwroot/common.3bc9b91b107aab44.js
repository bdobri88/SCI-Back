"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[592],{5006:(U,C,d)=>{d.d(C,{p:()=>Y});var r=d(4006),s=d(5412),e=d(4650),u=d(4101),f=d(7009),h=d(4859),m=d(9549),g=d(4144);let D=(()=>{class i{constructor(t,n,o,c,p){this.fb=t,this.dialogRef=n,this.data=o,this.apiDependencia=c,this.snackBar=p,this.form=this.fb.group({nombre:["",r.kI.required]})}ngOnInit(){this.data&&this.form.patchValue(this.data)}editDependencia(){const t={...this.data,nombre:this.form.value.nombre};this.apiDependencia.edit(t).subscribe(n=>{1===n.exito&&(this.dialogRef.close(!0),this.snackBar.open("Dependencia editada con \xe9xito","",{duration:2e3}))})}addDependencia(){this.apiDependencia.addDependencia({nombre:this.form.value.nombre,id:0}).subscribe(n=>{1===n.exito&&(this.dialogRef.close(!0),this.snackBar.open("Dependencia insertada con \xe9xito","",{duration:2e3}))})}close(){this.dialogRef.close()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(r.qu),e.Y36(s.so),e.Y36(s.WI),e.Y36(u.r),e.Y36(f.ux))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-dialog-dependencia"]],decls:13,vars:3,consts:[["mat-dialog-title",""],[3,"formGroup"],["mat-dialog-content",""],["appearance","fill"],["matInput","","formControlName","nombre"],["mat-dialog-actions",""],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(t,n){1&t&&(e.TgZ(0,"h1",0),e._uU(1),e.qZA(),e.TgZ(2,"form",1)(3,"div",2)(4,"mat-form-field",3)(5,"mat-label"),e._uU(6,"Nombre"),e.qZA(),e._UZ(7,"input",4),e.qZA()(),e.TgZ(8,"div",5)(9,"button",6),e.NdJ("click",function(){return n.close()}),e._uU(10,"Cancelar"),e.qZA(),e.TgZ(11,"button",7),e.NdJ("click",function(){return n.data?n.editDependencia():n.addDependencia()}),e._uU(12,"Guardar"),e.qZA()()()),2&t&&(e.xp6(1),e.Oqu(n.data?"Editar Dependencia":"Nueva Dependencia"),e.xp6(1),e.Q6J("formGroup",n.form),e.xp6(9),e.Q6J("disabled",n.form.invalid))},dependencies:[s.uh,s.xY,s.H8,h.lW,m.KE,m.hX,g.Nt,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u],encapsulation:2}),i})();var _=d(5433),b=d(7974),l=d(7155);function x(i,a){1&i&&(e.TgZ(0,"th",15),e._uU(1,"N\xb0"),e.qZA())}function Z(i,a){if(1&i&&(e.TgZ(0,"td",16),e._uU(1),e.qZA()),2&i){const t=a.index;e.xp6(1),e.Oqu(t+1)}}function T(i,a){1&i&&(e.TgZ(0,"th",15),e._uU(1,"Nombre"),e.qZA())}function v(i,a){if(1&i&&(e.TgZ(0,"td",16),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.Oqu(t.nombre)}}function N(i,a){1&i&&(e.TgZ(0,"th",17),e._uU(1,"Acciones"),e.qZA())}function k(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"td",18)(1,"button",19),e.NdJ("click",function(){const c=e.CHM(t).$implicit,p=e.oxw();return e.KtG(p.openEdit(c))}),e._uU(2,"Editar"),e.qZA(),e._uU(3,"| "),e.TgZ(4,"button",20),e.NdJ("click",function(){const c=e.CHM(t).$implicit,p=e.oxw();return e.KtG(p.delete(c))}),e._uU(5,"Eliminar"),e.qZA()()}}function w(i,a){1&i&&e._UZ(0,"tr",21)}function A(i,a){1&i&&e._UZ(0,"tr",22)}const y=function(){return[5,20,30]};let Y=(()=>{class i{constructor(t,n,o,c){this.apiDependencia=t,this.fb=n,this.dialog=o,this.snackBar=c,this.lst=new l.by([]),this.columnas=["index","nombre","actions"],this.width="300px",this.form=this.fb.group({searchTerm:[""]})}ngOnInit(){this.getDependencia(),this.form.get("searchTerm").valueChanges.subscribe(t=>{this.applyFilter(t)})}getDependencia(){this.apiDependencia.getDependencia().subscribe(t=>{this.lst.data=t.data,this.lst.paginator=this.paginator})}applyFilter(t){this.lst.filter=t.target.value.trim().toLowerCase()}openAdd(){this.dialog.open(D,{width:"300"}).afterClosed().subscribe(n=>this.getDependencia())}openEdit(t){this.dialog.open(D,{width:this.width,data:t}).afterClosed().subscribe(o=>this.getDependencia())}delete(t){this.dialog.open(_.G,{width:this.width}).afterClosed().subscribe(o=>{o&&this.apiDependencia.delete(t.id).subscribe(c=>{1===c.exito&&(this.snackBar.open("Dependencia eliminada con \xe9xito","",{duration:2e3}),this.getDependencia())},c=>{this.snackBar.open(400===c.status?c.error.mensaje||"No se pudo eliminar la dependencia":"Ocurri\xf3 un error inesperado","",{duration:3e3})})})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(u.r),e.Y36(r.qu),e.Y36(s.uw),e.Y36(f.ux))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-dependencia"]],viewQuery:function(t,n){if(1&t&&e.Gf(b.NW,5),2&t){let o;e.iGM(o=e.CRH())&&(n.paginator=o.first)}},decls:21,vars:5,consts:[[2,"display","flex","align-items","center","justify-content","space-between","margin-bottom","16px"],["appearance","fill",2,"max-width","200px","flex-grow","1","margin-right","6px","margin-top","12px"],["matInput","","placeholder","Ingrese b\xfasqueda",3,"input"],["mat-raised-button","","color","primary",3,"click"],["mat-table","",1,"mat-elevation-z4",3,"dataSource"],["matColumnDef","index"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","nombre"],["matColumnDef","actions"],["mat-header-cell","","style","text-align: right; padding-right: 7.5rem;",4,"matHeaderCellDef"],["mat-cell","","style","text-align: right;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Seleccionar p\xe1gina de elementos",3,"pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","",2,"text-align","right","padding-right","7.5rem"],["mat-cell","",2,"text-align","right"],["mat-raised-button","","color","basic",3,"click"],["mat-raised-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"mat-form-field",1)(2,"mat-label"),e._uU(3,"Buscar Dependencia"),e.qZA(),e.TgZ(4,"input",2),e.NdJ("input",function(c){return n.applyFilter(c)}),e.qZA()(),e.TgZ(5,"button",3),e.NdJ("click",function(){return n.openAdd()}),e._uU(6,"Nueva Dependencia"),e.qZA()(),e.TgZ(7,"div")(8,"table",4),e.ynx(9,5),e.YNc(10,x,2,0,"th",6),e.YNc(11,Z,2,1,"td",7),e.BQk(),e.ynx(12,8),e.YNc(13,T,2,0,"th",6),e.YNc(14,v,2,1,"td",7),e.BQk(),e.ynx(15,9),e.YNc(16,N,2,0,"th",10),e.YNc(17,k,6,0,"td",11),e.BQk(),e.YNc(18,w,1,0,"tr",12),e.YNc(19,A,1,0,"tr",13),e.qZA(),e._UZ(20,"mat-paginator",14),e.qZA()),2&t&&(e.xp6(8),e.Q6J("dataSource",n.lst),e.xp6(10),e.Q6J("matHeaderRowDef",n.columnas),e.xp6(1),e.Q6J("matRowDefColumns",n.columnas),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(4,y)))},dependencies:[l.BZ,l.fO,l.as,l.w1,l.Dz,l.nj,l.ge,l.ev,l.XQ,l.Gk,h.lW,m.KE,m.hX,g.Nt,b.NW],styles:["table[_ngcontent-%COMP%]{width:100%}"]}),i})()}}]);